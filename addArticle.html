<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>文章发布据的界面</title>
	</head>
	<script src="js/jquery-1.12.4.js"></script>
	<body>
			<table border="1">
			<tr>
				<td align="center" colspan='2' height='50'>发布文章</td>
			</tr>
			

			<tr>
				<td align="center">标题：</td>
				<td ><input type="text" name="title"></td>
			</tr>


			<tr>
				<td align="center">作者：</td>
				<td ><input type="text" name="authod"></td>
			</tr>

			<tr>
				<td align="center">简介：</td>
				<td ><textarea cols="100" rows="10" name="description" id="description"></textarea></td>
			</tr>


			<tr>
				<td align="center">内容：</td>
				<td ><textarea cols="100" rows="10" name="content" id="content"></textarea></td>
			</tr>

			<tr>
				<td><input id="btn" type="submit" name="submit" value="提交文章" align="center"></td>
			</tr>
			</table>
	</body>
	<script type="text/javascript">
		$(function(){
			$('#btn').click(()=>{
				// alert($(" input[ name='title' ] ").val());
				let title = $(" input[ name='title' ] ").val();
				let authod = $(" input[ name='authod' ] ").val();
				let description = $(" textarea[ name='description' ] ").val();
				let content = $(" textarea[ name='content' ] ").val();
				$.ajax({
					type:'post',
					url:'addArticle.php',
					data:{
						action:'add',
						title:title,
						authod:authod,
						description:description,
						content:content,
					},
					dataType:'JSON',
					success:(data)=>{
						alert('添加文章成功');
						$(window).attr('location','articleList.html');
					},
					error:(e)=>{
						console.log(e);
					},
				})
			})
		})
	</script>
</html>
